(function(e){e.miniShare=function(t){if(e("#minishare").length>0){console.error("Minishare widget already on the page (or there's a naming conflict.)");return false}var n=['<div id="minishare">','<p id="message">Share</p>','<div class="facebook">','<a href="#">Share</a>',"</div>",'<div class="twitter">','<a href="#">Tweet</a>',"</div>","</div>"].join("");var r={twitter:"https://twitter.com/intent/tweet?text=",facebook:"https://www.facebook.com/sharer/sharer.php?u="};var i={url:document.location,message:"Share This",done_message:"Thanks!",twitter_message:"Check this out",html:n};var s=e.extend(i,t);widget=e("body").append(s.html);e("head").append('<link rel="stylesheet" id="minishare-styles" href="//' + document.location.host + '/wp-content/themes/thecatflap/library/js/minishare/css/minishare.css"></link>');e("#minishare p#message").html(s.message);e("#minishare div").click(function(){e(this).children()[0].click()});e("#minishare a").click(function(){var t=e(this).parent().attr("class");if(r[t]==undefined){return false}var n="";if(t=="twitter"){message=s.twitter_message;n=r[t]+s.twitter_message+"&url="+s.url}else{n=r[t]+s.url}var i=window.open(n,"sharer","width=600,height=400,top=200,left=200");var o=setInterval(function(){try{if(i.closed){clearTimeout(o);e("#minishare p#message").html(s.done_message)}}catch(t){}},200)})}})(jQuery)